{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// додати елементи інтерфесу ✅\n// підключити бібліотеку flatpickr ✅\n// налаштувати бібліотеку\n//\n//\n//\n//\n//\n//\n//\n//\n\n// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst elements = {\n  userInput: document.querySelector('input[type=\"text\"]'),\n  strButton: document.querySelector('button[data-start]'),\n  userDays: document.querySelector('span[data-days'),\n  userHours: document.querySelector('span[data-hours'),\n  userMinutes: document.querySelector('span[data-minutes'),\n  userSeconds: document.querySelector('span[data-seconds'),\n};\nconst { userInput, strButton, userDays, userHours, userMinutes, userSeconds } =\n  elements;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    handlerUserInput(selectedDates[0]);\n    userInput.value = '';\n  },\n};\nflatpickr(userInput, options);\nlet userSelectedDate = '';\nuserInput.textContent = '';\nstrButton.disabled = true;\n\nfunction handlerUserInput(results) {\n  const date = new Date();\n  if (date > results.getTime()) {\n    return alert('Please choose a date in the future');\n  }\n  createTimer(results);\n}\n\nuserInput.addEventListener('input', evt => evt.preventDefault());\n\nfunction createTimer(res) {\n  setInterval(() => {\n    const date = new Date();\n    const value = res.getTime() - date.getTime();\n    const lastDate = convertMs(value);\n    createHTMLClock(lastDate);\n  }, 1000);\n}\n\nfunction createHTMLClock(lastDate) {\n  userDays.textContent = lastDate.days;\n  userHours.textContent = lastDate.hours;\n  userMinutes.textContent = lastDate.minutes;\n  userSeconds.textContent = lastDate.seconds;\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n// console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n// console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n// console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n"],"names":["elements","userInput","strButton","userDays","userHours","userMinutes","userSeconds","options","selectedDates","handlerUserInput","flatpickr","results","createTimer","evt","res","date","value","lastDate","convertMs","createHTMLClock","ms","days","hours","minutes","seconds"],"mappings":"0xBAqBA,MAAMA,EAAW,CACf,UAAW,SAAS,cAAc,oBAAoB,EACtD,UAAW,SAAS,cAAc,oBAAoB,EACtD,SAAU,SAAS,cAAc,gBAAgB,EACjD,UAAW,SAAS,cAAc,iBAAiB,EACnD,YAAa,SAAS,cAAc,mBAAmB,EACvD,YAAa,SAAS,cAAc,mBAAmB,CACzD,EACM,CAAE,UAAAC,EAAW,UAAAC,EAAW,SAAAC,EAAU,UAAAC,EAAW,YAAAC,EAAa,YAAAC,CAAa,EAC3EN,EAEIO,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBC,EAAiBD,EAAc,CAAC,CAAC,EACjCP,EAAU,MAAQ,EACnB,CACH,EACAS,EAAUT,EAAWM,CAAO,EAE5BN,EAAU,YAAc,GACxBC,EAAU,SAAW,GAErB,SAASO,EAAiBE,EAAS,CAEjC,GADa,IAAI,KACNA,EAAQ,UACjB,OAAO,MAAM,oCAAoC,EAEnDC,EAAYD,CAAO,CACrB,CAEAV,EAAU,iBAAiB,QAASY,GAAOA,EAAI,eAAgB,CAAA,EAE/D,SAASD,EAAYE,EAAK,CACxB,YAAY,IAAM,CAChB,MAAMC,EAAO,IAAI,KACXC,EAAQF,EAAI,QAAS,EAAGC,EAAK,QAAO,EACpCE,EAAWC,EAAUF,CAAK,EAChCG,EAAgBF,CAAQ,CACzB,EAAE,GAAI,CACT,CAEA,SAASE,EAAgBF,EAAU,CACjCd,EAAS,YAAcc,EAAS,KAChCb,EAAU,YAAca,EAAS,MACjCZ,EAAY,YAAcY,EAAS,QACnCX,EAAY,YAAcW,EAAS,OACrC,CAEA,SAASC,EAAUE,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}